jQuery((function (e) {
    var t, s, a, o, i = (t = 0, function (e, s) {
        clearTimeout(t), t = setTimeout(e, s)
    }), n = e("html"), l = e("body"), r = Math.max(e(window).width(), window.innerWidth);
    s = (o = window.navigator.userAgent).indexOf("MSIE "), a = o.indexOf("Trident/"), o = o.indexOf("Edge/"), 0 < s || 0 < a ? n.addClass("ie") : 0 < o ? n.addClass("ie edge") : n.addClass("not-ie");
    var c = !!navigator.platform.match(/(iPhone|iPod|iPad)/i), d = !!navigator.platform.match(/(Mac)/i);

    function p() {
        e(this).closest(".select2").prev("select").select2("open")
    }

    function h() {
        e(".tooltip:not(.tooltipstered)").tooltipster({
            animation: "fade",
            delay: 0,
            trigger: "custom",
            contentAsHTML: !0,
            triggerOpen: {mouseenter: !0, tap: !0},
            triggerClose: {click: !1, scroll: !0, tap: !0, mouseleave: !0},
            distance: 14
        }), e(".tooltip:not(.btn)").parent("").addClass("tooltip-box")
    }

    function m() {
        e(".no-touchevents .js-view-checker").viewportChecker({
            classToAdd: "visible",
            classToAddForFullView: "full-visible",
            invertBottomOffset: !0,
            repeat: !1
        })
    }

    function f() {
        e(".objects-page .aside .meta-object").insertAfter(".objects-page #main .attributes-box")
    }

    function u() {
        e(".objects-page #main .meta-object").detach().appendTo(".objects-page .aside")
    }

    c && n.addClass("ios"), d && n.addClass("macos"), e("span.m-to").each((function () {
        var t = e(this).text(), s = e(this).attr("class"), a = e("<a></a>");
        t = (t = (t = t.replace(/\s*\[dot\]\s*/gi, ".")).replace(/\s*\[dash\]\s*/gi, "-")).replace(/\s*\[at\]\s*/gi, "@"), "m-to" !== s && a.addClass(s).removeClass("m-to"), a.attr("href", "mailto:" + t).html(t), e(this).replaceWith(a)
    })), -1 < navigator.userAgent.toLowerCase().indexOf("android") && n.addClass("android"), e(".responsimg").length && e(".responsimg").responsImg(), e(".select").select2({minimumResultsForSearch: 1 / 0}), e(".filter-select").select2({
        minimumResultsForSearch: 1 / 0,
        dropdownCssClass: "filter-select-dropdown"
    }), e("html").hasClass("ie") || e(".select:not([multiple])").next(".select2:not(.select2-container--disabled)").find(".select2-selection").one("focus", p).on("blur", (function () {
        e(this).one("focus", p)
    })), e(".select:not([multiple])").change((function () {
        e(this).hasClass("active") || e(this).addClass("active")
    })), e(".select[multiple]").change((function () {
        null !== e(this).val() ? e(this).addClass("active") : e(this).removeClass("active")
    })), e(".select2-selection--multiple .select2-search input").prop("readonly", !0), e("input.form-control, textarea.form-control").blur((function () {
        var t = e(this).val();
        "" !== e.trim(t) ? e(this).addClass("active") : e(this).removeClass("active")
    })), l.on("beforeSubmit", "form#check-price-form", (function () {
        return e("form#check-price-form").hide(), e("form#offer-price-form").show(), e("form#offer-price-form").find('input[name*="price"]').val(e("form#check-price-form").find("input.currency-inp").val()), !1
    })), e("form.rss-form-steps.step2").hide(), l.on("beforeSubmit", "form.rss-form-steps.step1", (function () {
        return e("form.rss-form-steps.step1").hide(), e("form.rss-form-steps.step2").show(), e("form.rss-form-steps.step2").find('input[name*="email"]').val(e("form.rss-form-steps.step1").find("input.mail-inp").val()), !1
    })), e(".rss-form-steps .object-inp").on("change", (function () {
        var t = e(this).val();
        "apartment" === t || "newapartment" === t ? (e(this).closest(".field").removeClass("two-thirds"), e(".rss-form-steps .number-of-rooms-inp").closest(".field").addClass("visible"), e(".rss-form-steps .real-estate-inp").closest(".field").removeClass("visible")) : "commercial" === t ? (e(this).closest(".field").removeClass("two-thirds"), e(".rss-form-steps .number-of-rooms-inp").closest(".field").removeClass("visible"), e(".rss-form-steps .real-estate-inp").closest(".field").addClass("visible")) : (e(this).closest(".field").addClass("two-thirds"), e(".rss-form-steps .number-of-rooms-inp").closest(".field").removeClass("visible"), e(".rss-form-steps .real-estate-inp").closest(".field").removeClass("visible"))
    })), e(".two-step-form .error").css({display: "none"}), e(".two-step-form button").click((function (t) {
        var s = e(this).parents(".two-step-form");
        s.hasClass("step1") && (t.preventDefault(), t.stopPropagation(), t = s.find(".location-inp").val(), "" === e.trim(t) ? s.find(".location-inp").closest(".field").addClass("error-field") : ("sell-form" === s.attr("id") && send_ymga("SENT_ADR_S"), "exchange-form" === s.attr("id") && send_ymga("SENT_ADR_С"), s.removeClass("step1").addClass("step2")))
    })), e(".two-step-form .location-inp").on("focus", (function () {
        e(this).closest(".field").removeClass("error-field")
    })), e(".clone-select").each((function () {
        e(this).parents(".col").css("zIndex", "100")
    })), e(".clone-select").click((function (t) {
        t.stopPropagation(), e(this).hasClass("active") ? (e(this).removeClass("active").next(".dropdown").hide(), e(".advanced-search").css("zIndex", "9")) : (e(".clone-select").removeClass("active").next(".dropdown").hide(), e(this).addClass("active").next(".dropdown").show(), e(".advanced-search").css("zIndex", "11"))
    })), e("#all, #objects-filter").click((function () {
        e(".clone-select").hasClass("active") && e(".clone-select").removeClass("active").next(".dropdown").hide()
    })), e(".clone-select-box .dropdown").click((function (e) {
        e.stopPropagation()
    })), e(".clone-select-box").each((function () {
        e(this).find('input[type="checkbox"]:checked').length && e(this).find('input[type="checkbox"]').each((function () {
            var t = e(this).siblings("label").text(), s = e(this).attr("id"), a = e(this).parents(".clone-select-box");
            t = '<span class="' + s + '"> ' + t + "</span>";
            1 == e(this).prop("checked") ? (a.find(".clone-select").append(t), a.find(".clone-select").find("span:last").prev("span").append(",")) : (t = (t = a.find("." + s).prev("span").text()).replace(/,/g, ""), (2 == a.find(".clone-select span").length ? a.find("." + s).prev("span") : a.find("." + s).prev("span:not(:nth-child(1))")).text(t), a.find("." + s).remove())
        }))
    })), e('.clone-select-box input[type="checkbox"]').change((function () {
        var t = e(this).parents(".clone-select-box"), s = e(this).attr("id"),
            a = '<span class="' + s + '"> ' + e(this).siblings("label").text() + "</span>";
        1 == e(this).prop("checked") ? (t.find(".clone-select").append(a), t.find(".clone-select").find("span:last").prev("span").append(",")) : (a = (a = t.find("." + s).prev("span").text()).replace(/,/g, ""), (2 == t.find(".clone-select span").length ? t.find("." + s).prev("span") : t.find("." + s).prev("span:not(:nth-child(1))")).text(a), t.find("." + s).remove())
    })), e(".upload-box").length && e('.upload-box input[type="file"]').fileinput({
        buttonClass: "upload-btn",
        complete: function () {
            e(this).closest(".upload-box").find(".formats").detach().appendTo(e(this).closest(".upload-box").find(".fileinput-wrapper"))
        }
    }), e(".tooltip").length && h(), e(".js-view-checker").length && m(), e(".js-view-checker-any-device").length && e(".js-view-checker-any-device").viewportChecker({
        classToAdd: "visible",
        classToAddForFullView: "full-visible",
        invertBottomOffset: !0,
        repeat: !1
    }), e(".in-view-checker-repeat").length && e(".no-touchevents .in-view-checker-repeat").viewportChecker({
        classToAdd: "visible",
        classToAddForFullView: "full-visible",
        invertBottomOffset: !0,
        offset: 0,
        repeat: !0
    }), e(".footer-in-view").length && e(".footer-in-view").viewportChecker({
        classToAdd: "visible",
        classToAddForFullView: "full-visible",
        invertBottomOffset: !0,
        offset: 0,
        repeat: !0
    }), window.matchMedia && window.matchMedia("print").addListener((function (e) {
        (e.matches ? f : u)()
    })), window.onbeforeprint = f, window.onafterprint = u, e(".print-btn").click((function () {
        window.print()
    })), e("#to-top").click((function () {
        e("body,html").animate({scrollTop: 0}, 600)
    }));
    var g = 0;

    function v() {
        var t = e(window).scrollTop();
        g < t && e("#header").hasClass("sticky") && (e("#header").removeClass("sticky"), e("#nav").hasClass("visible") && e("#js-open-nav.active").trigger("click")), t < g && (e("#header").hasClass("sticky") || e("#header").addClass("sticky")), (g = t) <= 0 && e("#header").hasClass("sticky") && e("#header").removeClass("sticky"), t > e("#header").height() ? e("#header").addClass("show-smooth") : e("#header").removeClass("show-smooth")
    }

    e("#header").hasClass("no-sticky") || e("#nav").hasClass("visible") || v(), e(".js-open-search").click((function () {
        e(this).hasClass("active") ? (e(this).removeClass("active").attr("title", "Открыть поиск"), e("#header").removeClass("visible-search")) : (e(this).addClass("active").attr("title", "Закрыть поиск"), e("#header").addClass("visible-search")), e("#nav .has-child").hasClass("opened") && (e("#nav .has-child.opened").removeClass("opened"), e("#nav .dropdown").hide())
    }));
    var C, b = !0;

    function y() {
        var t;
        r <= 1280 && 1 == b ? (e("#header .search-form").insertAfter("#nav .sub-box"), e("#header .favourite").insertAfter("#header .search-form"), b = !1) : 1280 < r && 0 == b && (t = e("#header .search-form").detach(), e("#header").prepend(t), e("#header .favourite").insertAfter("#header #logo"), b = !0)
    }

    function L() {
        var t = e(window).height();
        e("#nav").css("height", t)
    }

    function w() {
        e("[data-bg-text]").each((function () {
            var t;
            e(this).find(".bg-text").length || (t = e(this).attr("data-bg-text"), e(this).addClass("has-bg-text").append('<span class="bg-text">' + t + "</span>"))
        }))
    }

    function _() {
        e(".counter").each((function () {
            var t, s;
            e(this).parents(".layout-grid").hasClass("visible") && n.hasClass("no-touchevents") ? (s = (t = e(this)).attr("data-count"), e({countNum: t.text()}).animate({countNum: s}, {
                duration: 1e3,
                step: function () {
                    t.text(Math.floor(this.countNum))
                },
                complete: function () {
                    t.text(this.countNum).addClass("finished")
                }
            })) : n.hasClass("touchevents") && (s = (t = e(this)).attr("data-count"), t.text(s))
        }))
    }

    function R(t) {
        setTimeout((function () {
            e(".blog-header .choose-subject .subject").removeClass("disabled")
        }), 200);
        var s = e("<div/>");
        s.html(t);
        var a = e(".layout-grid.articles");
        t = a.height();
        a.css("height", t), a.html(""), e(".lazy-load-box").remove(), e(".blog-header .subjects").html(s.find(".blog-header .subjects").html()), a.html(s.find(".layout-grid.articles").html()), s.find(".lazy-load-box").length && s.find(".lazy-load-box").clone().insertAfter(".layout-grid.articles"), e("p.articles-count").html(s.find("p.articles-count").html()), T(), setTimeout((function () {
            a.css("height", ""), M = O = !0, I()
        }), 100)
    }

    function T() {
        e(".no-touchevents .js-interlinked a:not(.subject, .btn)").hover((function () {
            e(this).parents(".js-interlinked").addClass("on-hover")
        }), (function () {
            e(this).parents(".js-interlinked").removeClass("on-hover")
        }))
    }

    e("#header").hasClass("mobile-nav") || y(), e(".js-open-call-dropdown").click((function (t) {
        t.stopPropagation(), e(this).hasClass("active") ? e(this).removeClass("active").next(".dropdown").hide() : e(this).addClass("active").next(".dropdown").show(), e("#nav .has-child").hasClass("opened") && (e("#nav .has-child.opened").removeClass("opened"), e("#nav .dropdown").hide())
    })), e("#nav li").each((function () {
        e(this).find(".dropdown").length && e(this).addClass("has-child")
    })), e("#nav li.has-child > a").mouseenter((function () {
        1280 < r && e("html").hasClass("no-touchevents") && (e("#nav .sub-box > ul > li").removeClass("opened").find(".dropdown").hide(), e(this).next(".dropdown").show())
    })), e("#nav li.has-child").mouseleave((function () {
        1280 < r && e("html").hasClass("no-touchevents") && e(this).find(".dropdown").hide()
    })), e("#nav .sub-box > ul > li > a").click((function (t) {
        var s;
        (r <= 540 || e("html").hasClass("touchevents")) && ((s = e(this)).parents("li").hasClass("has-child") && (t.preventDefault(), t.stopPropagation()), s.parents("li").hasClass("opened") ? r <= 540 ? s.parents("li").removeClass("opened").find(".dropdown").slideUp(150) : s.parents("li").removeClass("opened").find(".dropdown").hide() : (r <= 540 ? e("#nav .dropdown").slideUp(150) : e("#nav .dropdown").hide(), e("#nav .sub-box > ul > li").removeClass("opened"), r <= 540 ? s.parents("li").addClass("opened").find(".dropdown").slideDown(150) : s.parents("li").addClass("opened").find(".dropdown").show()), e(".js-open-call-dropdown").hasClass("active") && e(".js-open-call-dropdown").removeClass("active").next(".dropdown").hide())
    })), e("#js-open-nav").click((function (t) {
        var s;
        t.stopPropagation(), e(this).hasClass("active") ? (e("#js-open-nav.active .top-line, #js-open-nav.active .bottom-line").transition({rotate: "0"}), e(this).removeClass("active").attr("title", "Открыть меню"), e("#nav").removeClass("visible"), setTimeout((function () {
            e("#nav > ul > li").removeClass("opened").find(".dropdown").hide()
        }), 150), setTimeout((function () {
            e("#js-open-nav .top-line").attr("style", ""), e("#js-open-nav .bottom-line").attr("style", "")
        }), 350), e("#all").removeClass("nav-overlay").css("zIndex", "1"), e("html, body").removeClass("hide-scroll opened-nav")) : (e(this).addClass("active").attr("title", "Закрыть меню"), e("#nav").addClass("visible"), e(".visible-dropdown").addClass("active").find(".dropdown").show(), e("#js-open-nav.active .top-line").css({
            top: "0",
            borderColor: "#fff"
        }), e("#js-open-nav.active .bottom-line").css({bottom: "0", borderColor: "#fff"}), setTimeout((function () {
            e("#js-open-nav.active .top-line").transition({rotate: "45deg"}), e("#js-open-nav.active .bottom-line").transition({rotate: "-45deg"})
        }), 300), e("#all").addClass("nav-overlay").css("zIndex", "3"), L(), e("html.touchevents, .touchevents body").addClass("hide-scroll"), n.addClass("opened-nav"), n.hasClass("no-touchevents") && (s = e(window).scrollTop(), e(window).scroll((function () {
            e("#all").hasClass("nav-overlay") && e("html, body").animate({scrollTop: s}, 0)
        })))), r <= 540 && e("#nav .current").length && e("#nav .current").addClass("opened").find(".dropdown").show(), e(".js-open-call-dropdown").hasClass("active") && e(".js-open-call-dropdown").removeClass("active").next(".dropdown").hide()
    })), e("#all").click((function () {
        e(".js-open-call-dropdown").hasClass("active") && e(".js-open-call-dropdown.active").trigger("click")
    })), e(".anchor").click((function (t) {
        t.preventDefault();
        var s = e(this).attr("href"), a = e(s).offset().top;
        t = 100, s = e(this).attr("data-negative"), s = parseInt(s);
        r <= 780 && (t = 83), s && (a -= s), e("html, body").animate({scrollTop: a - t}, 300)
    })), e(".faq .question p").click((function () {
        var t = 100;
        r <= 780 && (t = 83);
        var s = e(this).parents(".faq");
        s.hasClass("active") ? s.removeClass("active").find(".answer").slideUp(250) : (e(".faq").removeClass("active"), e(".faq").find(".answer").hide(), s.addClass("active").find(".answer").slideDown(250)), e("html, body").animate({scrollTop: e(this).offset().top - t}, 300)
    })), e(document).on("change", "input.number", (function () {
        var t, s = e(this).val().replace(",", ".").split("."), a = s[0];
        a.replace(/[^0-9]+/g, ""), t = 0 < (a = "" !== a && parseInt(a) || 0) ? a.toString() : "", !s[1] || "" !== (s = s[1].replace(/[^0-9]+/g, "")) && 0 < (parseInt(s) || 0) && (t = a + "." + s), e(this).val(t)
    })), e(".form-control[type='tel']").keypress((function (e) {
        var t = e.keyCode || e.which;
        !/[^\d\b+ -]/.test(String.fromCharCode(t)) && 37 != !t && 38 != !t && 39 != !t && 40 != !t && 8 != !t && 46 != !t || e.preventDefault()
    })), window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e, t) {
        return window.setTimeout(e, 1e3 / 60)
    }, requestAnimationFrame((function t() {
        var s, a;
        C = e(window).scrollTop(), e(".page-banner .bg").length && !e("html").hasClass("mobile") && e(".page-banner .bg").css({
            "-webkit-transform": "translate3d(0px, " + .5 * C + "px, 0px)",
            "-ms-transform": "translate3d(0px, " + .5 * C + "px, 0px)",
            transform: "translate3d(0px, " + .5 * C + "px, 0px)"
        }), e("#scroll-progress").length && (s = e(window).height(), a = e(document).height(), s = e(window).scrollTop() / (a - s) * 100 + "%", e("#scroll-progress").css("width", s)), requestAnimationFrame(t)
    })), e(".twin-icon").length && e(".twin-icon").each((function () {
        var t = e(this);
        t.find("svg").clone().appendTo(t.find(".sub-box")).addClass("twin")
    })), e("[data-bg-text]").length && w(), l.on("click", ".video-box", (function () {
        var t, s = e(this);
        s.hasClass("playing") || (e(".video-box.playing").addClass("pause").removeClass("playing"), t = s.attr("data-video-id"), (s.hasClass("vimeo") ? e('<iframe class="video" id="vimeo" src="https://player.vimeo.com/video/' + t + '?autoplay=1&loop=1&automute=0" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>') : e('<iframe class="video" id="youtube" src="https://www.youtube.com/embed/' + t + '?rel=0&autoplay=1&enablejsapi=1" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>')).appendTo(s), s.addClass("playing"), function (e, t, s, a) {
            a = "vimeo" == (e.hasClass("vimeo") ? "vimeo" : "youtube") ? {
                method: "pause",
                value: "true"
            } : {
                event: "command",
                func: "pauseVideo"
            }, null != (s = e.find("iframe").get(0)) && s.contentWindow.postMessage(JSON.stringify(a), "*"), e.removeClass("pause")
        }(e(".pause"), 0, void 0, void 0)), s.addClass("hide-controls")
    })), n.hasClass("touchevents") && _(), l.on("click", ".choose-subject .subject", (function (t) {
        t.preventDefault(), t.stopPropagation();
        var s = [], a = e(this).attr("data-tag-id");
        e(".blog-header .subject.active").each((function (t) {
            s.push(e(this).attr("data-tag-id"))
        })), (t = e('*[data-tag-id="' + a + '"]')).closest(".choose-subject").find(".subject").addClass("disabled"), t.hasClass("active") ? (s.pop(a), t.find(".close").remove(), t.removeClass("active"), e.get({
            url: e(".subjects").attr("data-url"),
            data: {tags: s}
        }, (function (e) {
            R(e)
        }), "html")) : (s.push(a), t.addClass("active").append('<span class="close" title="Удалить"></span>'), e.get({
            url: e(".subjects").attr("data-url"),
            data: {tags: s}
        }, (function (e) {
            R(e)
        }), "html"))
    })), e(".js-interlinked").length && T(), l.on("mouseenter", ".employees-list .link", (function () {
        e(this).parents(".grid-col").addClass("on-hover")
    })), l.on("mouseleave", ".employees-list .link", (function () {
        e(this).parents(".grid-col").removeClass("on-hover")
    })), e(".tabs-list .tab-link").click((function () {
        var t = e(this).attr("data-tab");
        e(".tabs-list li").removeClass("current"), e(".tab-content").removeClass("current"), e(this).addClass("current"), e("#" + t).addClass("current")
    })), e(".photo-gallery").length && e(".photo-gallery").lightGallery({selector: ".item a", hash: !1});
    var k, j = "";
    e(".photo-gallery").on("onBeforeOpen.lg", (function () {
        j = e(window).scrollTop()
    })), e(".photo-gallery").on("onBeforeClose.lg", (function () {
        e(".ie") && e("html, body").animate({scrollTop: j}, 50)
    })), e(".open-sub-gallery").click((function () {
        var t = e(this).attr("data-json");
        e(this).parents(".sub-gallery").find(".gallery").length ? e(this).parents(".sub-gallery").find(".gallery .item:first-child").trigger("click") : e.getJSON(t, {}, (function (t) {
            var s, a;
            t = t, s = e(".sub-gallery"), a = e('<div class="gallery"></div>'), e.each(t, (function (e, t) {
                t = '<div class="item" data-src="' + t.src + '"><img src="' + t.thumb + '" /></div>', a.append(t), s.append(a)
            })), s.find(".gallery").lightGallery({
                hash: !1,
                thumbnail: !0
            }), s.find(".gallery .item:first-child").trigger("click")
        }))
    })), e(".photo-gallery").length && (k = e(".photo-gallery")).imagesLoaded((function () {
        k.masonry({itemSelector: ".item"})
    })), e(".similar-objects-slider").length && (e(".similar-objects-slider").slick({
        slidesToShow: 3,
        slidesToScroll: 3,
        dots: !1,
        arrows: !0,
        infinite: !0,
        speed: 350,
        responsive: [{breakpoint: 1160, settings: {slidesToShow: 2, slidesToScroll: 2}}, {
            breakpoint: 750,
            settings: {slidesToShow: 1, slidesToScroll: 1}
        }]
    }), h()), e(".similar-objects .tab-link").click((function () {
        e(".similar-objects-slider").slick("setPosition")
    })), e("#yandex-map").length && "undefined" != typeof ymaps && ymaps.ready((function () {
        var t, s, a = e("#yandex-links .active").attr("data-lat"), o = e("#yandex-links .active").attr("data-lng"),
            i = e("#yandex-links .active").attr("data-caption");
        a = parseFloat(a) || 0, o = parseFloat(o) || 0;
        0 == a && 0 == o || ((t = new ymaps.Map("yandex-map", {
            center: [a, o],
            zoom: 17,
            controls: []
        })).behaviors.disable("scrollZoom"), t.controls.add("zoomControl", {
            position: {
                top: 45,
                left: 10
            }
        }), s = new ymaps.Placemark([a, o], {iconCaption: i}, {
            preset: "islands#redDotIconWithCaption",
            iconCaptionMaxWidth: "320"
        }), t.geoObjects.add(s), e("#yandex-links a").click((function (a) {
            e("#yandex-links a").removeClass("active"), e(this).addClass("active"), a.preventDefault();
            var o = e(this).attr("data-lat"), i = e(this).attr("data-lng");
            a = e(this).attr("data-caption"), o = parseFloat(o) || 0, i = parseFloat(i) || 0;
            0 == o && 0 == i || (t.panTo([o, i]), s.geometry.setCoordinates([o, i]), s.properties.set({iconCaption: a}))
        })))
    })), e(".usual-map").length && "undefined" != typeof ymaps && ymaps.ready((function () {
        e(".usual-map").each((function () {
            var t, s, a, o = e(this).attr("id");
            s = e("#" + (t = o)).attr("data-lat"), a = e("#" + t).attr("data-lng"), o = e("#" + t).attr("data-caption"), s = parseFloat(s) || 0, a = parseFloat(a) || 0, 0 == s && 0 == a || ((t = new ymaps.Map(t, {
                center: [s, a],
                zoom: 17,
                controls: []
            })).behaviors.disable("scrollZoom"), n.hasClass("touchevents") && t.behaviors.disable("drag"), t.controls.add("zoomControl", {
                position: {
                    top: 45,
                    left: 10
                }
            }), o = new ymaps.Placemark([s, a], {iconCaption: o}, {
                preset: "islands#redDotIconWithCaption",
                iconCaptionMaxWidth: "320"
            }), t.geoObjects.add(o))
        }))
    }));
    var S, A, x = !1;

    function N(t) {
        e.ajax({
            url: t, dataType: "html", beforeSend: function () {
                x = !0
            }, success: function (t) {
                var s, a = e("<div/>");
                a.html(t), e(".response-list").length && (s = a.find(".response-list").html(), e(".response-list").append(s), setTimeout((function () {
                    e(".response-list .item, .response-list .inclined-separator").removeClass("hidden")
                }), 350)), e(".employees-list").length && (s = a.find(".employees-list").html(), e(".employees-list").append(s), setTimeout((function () {
                    e(".employees-list .grid-col").removeClass("hidden")
                }), 250)), e(".articles.lazy-load").length && (s = a.find(".articles.lazy-load").html(), e(".articles.lazy-load").append(s), T(), setTimeout((function () {
                    e(".articles.lazy-load .grid-col").removeClass("hidden")
                }), 250)), e("#objects-list").length && (s = a.find("#objects-list").html(), e("#objects-list").append(s), h(), V(), setTimeout((function () {
                    e("#objects-list .item").removeClass("hidden")
                }), 350)), e(".objects-list").length && (s = a.find(".objects-list").html(), e(".objects-list").append(s), h(), V(), setTimeout((function () {
                    e(".objects-list.layout-grid .grid-col").removeClass("hidden")
                }), 250)), e(".articles-list").length && (s = a.find(".articles-list").html(), e(".articles-list").append(s), T(), setTimeout((function () {
                    e(".articles-list.layout-grid .grid-col").removeClass("hidden")
                }), 250)), a.find(".load-more").length ? (void 0 !== (t = a.find(".load-more").attr("data-href")) ? A.find(".load-more").attr("data-href", t) : (t = a.find(".load-more").attr("href"), A.find(".load-more").attr("href", t)), t = a.find(".load-more").text(), A.find(".load-more").text(t)) : A.addClass("finished").find(".load-more").hide(), e(".has-more-box").length && (s = a.find(".more-items-upload").html(), S.find(".more-items").append(s), S.find(".load-more-items").addClass("items-loaded"), e(".js-view-checker").length && m()), x = !1, e("[data-bg-text]").length && w()
            }, error: function () {
                x = !1, alert("Page not found!")
            }
        })
    }

    l.on("click", ".load-more", (function (t) {
        t.preventDefault(), x || (void 0 === (t = e(this).attr("data-href")) && (t = e(this).attr("href")), S = e(this).parents(".has-more-box"), N(t), A = e(this).parents(".lazy-load-box"))
    })), l.on("click", ".load-more-items", (function (t) {
        var s, a, o;
        t.preventDefault(), x || (s = e(this).attr("data-href"), o = e(this).attr("data-on-text"), a = e(this).attr("data-off-text"), S = e(this).parents(".has-more-box"), e(this).hasClass("active") ? (t.preventDefault(), t.stopPropagation(), S.find(".more-items").hide(), e(this).removeClass("active").find("span").text(o), o = e(this).offset().top, e("html, body").animate({scrollTop: o - 100}, 0)) : (e(this).hasClass("items-loaded") ? S.find(".more-items").show() : (N(s), A = e(this).parents(".lazy-load-box")), e(this).addClass("active").find("span").text(a), setTimeout((function () {
            e(window).trigger("scroll")
        }), 150)))
    }));
    var O = !0, M = !0;

    function I() {
        var t = e(".lazy-load").offset().top, s = e(".lazy-load").height();
        e(window).scrollTop() >= t + s - e(window).height() && e(".load-more").is(":visible") && (O = !1, e(".lazy-load-box .loader").show(), e(".load-more").trigger("click"), setTimeout((function () {
            e(".lazy-load-box .loader").hide()
        }), 500), setTimeout((function () {
            O = !0, r <= 1190 && e("html").hasClass("objects-page") && e(window).trigger("scroll")
        }), 1e3)), e(window).scrollTop() >= t + s - e(window).height() && e(".lazy-load-box").hasClass("finished") && M && (M = !1, setTimeout((function () {
            e(".lazy-load-box").fadeOut(250)
        }), 2e3))
    }

    var F = Cookies.getJSON("favorites_objects");

    function E() {
        var t = e("#header").height(), s = e(window).innerHeight(), a = e("#objects-box"), o = e("#objects-filter"),
            i = e("#objects-layout");
        e("#objects-box").hasClass("clear") ? (a.attr("style", ""), i.attr("style", "")) : r <= 1190 ? (a.css({
            height: "auto",
            minHeight: "auto"
        }), i.attr("style", "")) : (a.css({height: s - t, minHeight: 0}), i.css({
            height: a.height() - o.height(),
            minHeight: 0
        }))
    }

    (F = F || []).length && e(".favourite").removeClass("not-chosen").attr("title", "Избранные объекты"), l.on("click", ".js-favourite", (function () {
        var t = e(this).attr("data-id"), s = e('.js-favourite[data-id="' + t + '"]');
        e(this).hasClass("active") ? (function (t) {
            for (var s = [], a = 0; a < F.length; a++) F[a] != t && s.push(F[a]);
            (F = s).length ? Cookies.set("favorites_objects", F, {expires: 365}) : (Cookies.remove("favorites_objects"), e(".favourite").addClass("not-chosen").attr("title", "Добавьте объекты в избранное"))
        }(t), s.removeClass("active").attr("title", "Добавить в избранное"), e(this).closest(".add-to-favourite").find("p").length && e(this).closest(".add-to-favourite").find("p").text("Добавить объект в избранное")) : (function (t) {
            for (var s = !1, a = 0; a < F.length; a++) if (F[a] == t) {
                s = !0;
                break
            }
            s || (F.push(t), Cookies.set("favorites_objects", F, {expires: 365})), e(".favourite").removeClass("not-chosen").attr("title", "Избранные объекты"), send_ymga("ADD_FAV", "CLICK-ADD-FAV", "ELEMENT")
        }(t), s.addClass("active").attr("title", "Убрать из избранного"), e(this).closest(".add-to-favourite").find("p").length && e(this).closest(".add-to-favourite").find("p").text("Убрать объект из избранного"))
    })), e(".favourite").click((function (t) {
        e(this).hasClass("not-chosen") && t.preventDefault()
    })), e(".open-advanced-search").click((function () {
        e(this).hasClass("active") ? (e(this).removeClass("active"), e(".filter").removeClass("opened-advanced"), e(this).find("span").text("Расширенный поиск"), e("#objects-filter .advanced-search").slideUp(150)) : (e(this).addClass("active"), e(this).find("span").text("Свернуть расширенный поиск"), e(".filter").addClass("opened-advanced"), e("#objects-filter .advanced-search").slideDown(150)), e("#objects-layout").hasClass("list-view") || (K(), z())
    })), e("#open-filter").click((function () {
        var t;
        e("#objects-filter").hasClass("visible") || (e("#objects-filter").addClass("visible"), e("html.touchevents, .touchevents body").addClass("hide-scroll")), n.hasClass("no-touchevents") && (t = e(window).scrollTop(), e(window).scroll((function () {
            e("#objects-filter").hasClass("visible") && e("html, body").animate({scrollTop: t}, 0)
        })))
    })), e("#close-filter").click((function () {
        e("#objects-filter").hasClass("visible") && (e("#objects-filter").removeClass("visible"), e("html, body").removeClass("hide-scroll"))
    })), e(".main-search .form-control.number, .advanced-search .form-control.number").change((function () {
        var t = e(this).parents(".col"), s = t.find(".from-num").val(), a = t.find(".to-num").val();
        s = parseFloat(s.replace(",", "."));
        (a = parseFloat(a.replace(",", "."))) < s ? t.find(".data-alert").length || (t.append('<p class="data-alert">Значение "до" не может быть меньше значения "от"</p>'), t.css("zIndex", 10)) : t.find(".data-alert").length && (t.find(".data-alert").remove(), t.attr("style", ""))
    })), l.on("mouseenter", ".object a", (function () {
        e(this).parents(".object").addClass("on-hover")
    })), l.on("mouseleave", ".object a", (function () {
        e(this).parents(".object").removeClass("on-hover")
    })), e(".object header .price-box").length && e(".object .header .price-box").each((function () {
        1 < e(this).find(".price").length && e(this).parent(".header").addClass("short-label")
    })), e("#objects-box").length && E();
    var P = !1;

    function K() {
        P = !0, requestAnimationFrame((function t() {
            P && (C = e(window).scrollTop(), e("#objects-filter").length && E(), requestAnimationFrame(t))
        })), setTimeout((function () {
            P = !1
        }), 500)
    }

    var B, D = !0;

    function z() {
        D = !0, requestAnimationFrame((function e() {
            D && (1190 < r && B.container.fitToViewport(), requestAnimationFrame(e))
        })), setTimeout((function () {
            D = !1
        }), 500), setTimeout((function () {
            B.container.fitToViewport()
        }), 1500)
    }

    function V() {
        e(".object .img-slider").each((function () {
            e(this).hasClass("slick-slider") || e(this).slick({
                slidesToShow: 1,
                slidesToScroll: 1,
                lazyLoad: "ondemand",
                dots: !1,
                arrows: !0,
                infinite: !0,
                speed: 200
            })
        }))
    }

    function G() {
        r <= 1190 ? (e("#all #objects-filter").length && e("#objects-filter").insertAfter("#all"), e("#objects-controls .change-layout-nav").length || (e(".change-layout-nav").insertBefore("#open-filter"), e(".filter .mail-btn").insertAfter("#open-filter")), (e("#objects-layout").hasClass("tiled-map-view") || e("#objects-layout").hasClass("list-view")) && (setTimeout((function () {
            e(".gallery-with-map").trigger("click"), e('.change-layout-nav a[data-layout="tiled-view"]').trigger("click")
        }), 100), setTimeout((function () {
            e(window).trigger("resize")
        }), 250))) : (e("#objects-box #objects-filter").length || e("#objects-filter").insertBefore("#objects-layout-box"), e("#objects-controls .change-layout-nav").length && (e(".change-layout-nav").insertAfter(".gallery-with-map-box .gallery-with-map"), e("#objects-controls .mail-btn").insertAfter(".filter .form")), i((function () {
            e(window).trigger("resize")
        }), 250))
    }

    e("#objects-map").length && "undefined" != typeof ymaps && ymaps.ready((function () {
        B = new ymaps.Map("objects-map", {center: [53.9, 27.55], zoom: 11, controls: []}, {
            suppressMapOpenBlock: !0,
            searchControlProvider: "yandex#search"
        });
        var t = e("#filter-form"),
            s = ymaps.templateLayoutFactory.createClass('<div class="popover"><span class="close" title="Закрыть"></span><div class="arrow"></div><div class="popover-inner">$[[options.contentLayout observeSize minWidth=240 maxWidth=340 maxHeight=350]]</div></div>', {
                build: function () {
                    this.constructor.superclass.build.call(this), this._$element = e(".popover", this.getParentElement()), this.applyElementOffset(), this._$element.find(".close").on("click", e.proxy(this.onCloseClick, this))
                }, clear: function () {
                    this._$element.find(".close").off("click"), this.constructor.superclass.clear.call(this)
                }, onSublayoutSizeChange: function () {
                    s.superclass.onSublayoutSizeChange.apply(this, arguments), this._isElement(this._$element) && (this.applyElementOffset(), this.events.fire("shapechange"))
                }, applyElementOffset: function () {
                    this._$element.css({
                        left: -this._$element[0].offsetWidth / 2,
                        top: -(this._$element[0].offsetHeight + this._$element.find(".arrow")[0].offsetHeight)
                    })
                }, onCloseClick: function (e) {
                    e.preventDefault(), this.events.fire("userclose")
                }, getShape: function () {
                    if (!this._isElement(this._$element)) return s.superclass.getShape.call(this);
                    var e = this._$element.position();
                    return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left, e.top], [e.left + this._$element[0].offsetWidth, e.top + this._$element[0].offsetHeight + this._$element.find(".arrow")[0].offsetHeight]]))
                }, _isElement: function (e) {
                    return e && e[0] && e.find(".arrow")[0]
                }
            }),
            a = ymaps.templateLayoutFactory.createClass('<div class="popover in-cluster"><span class="close" title="Закрыть"></span><div class="arrow"></div><div class="popover-inner">$[[options.contentLayout observeSize minWidth=240 maxWidth=340 maxHeight=350]]</div></div>', {
                build: function () {
                    this.constructor.superclass.build.call(this), this._$element = e(".popover", this.getParentElement()), this.applyElementOffset(), this._$element.find(".close").on("click", e.proxy(this.onCloseClick, this))
                }, clear: function () {
                    this._$element.find(".close").off("click"), this.constructor.superclass.clear.call(this)
                }, onSublayoutSizeChange: function () {
                    s.superclass.onSublayoutSizeChange.apply(this, arguments), this._isElement(this._$element) && (this.applyElementOffset(), this.events.fire("shapechange"))
                }, applyElementOffset: function () {
                    this._$element.css({
                        left: -this._$element[0].offsetWidth / 2,
                        top: -(this._$element[0].offsetHeight + this._$element.find(".arrow")[0].offsetHeight)
                    })
                }, onCloseClick: function (e) {
                    e.preventDefault(), this.events.fire("userclose")
                }, getShape: function () {
                    if (!this._isElement(this._$element)) return s.superclass.getShape.call(this);
                    var e = this._$element.position();
                    return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left, e.top], [e.left + this._$element[0].offsetWidth, e.top + this._$element[0].offsetHeight + this._$element.find(".arrow")[0].offsetHeight]]))
                }, _isElement: function (e) {
                    return e && e[0] && e.find(".arrow")[0]
                }
            }),
            o = ymaps.templateLayoutFactory.createClass('<div class="object">  <div class="img-box">    <div class="img-slider">      {% for value in properties.imgSlider %}        <div class="slide"><a href="$[properties.descriptionHref]" target="_blank"><img data-lazy="{{ value }}" /></a></div>      {% endfor %}    </div>    <header class="header">      [if properties.numberOfRooms]<span class="number-of-rooms">$[properties.numberOfRooms]</span>[endif]      <div class="price-box">        [if properties.showPrice]          <div class="price attr">            [if properties.vat]<span class="vat">$[properties.vat]</span>[endif]            <span class="ruble">$[properties.price]<span class="tooltip" title="$[properties.otherCurrencyTooltip]">?</span></span>            <span class="others-currency">$[properties.otherCurrency]</span>          </div>        [endif]        [if !properties.showPrice][if properties.showAdditionalPrice]          <div class="price attr additional">            [if !properties.showPrice][if properties.vat]<span class="vat">$[properties.vat]</span>[endif][endif]            <span class="ruble">$[properties.additionalPrice]<span class="tooltip" title="$[properties.additionalPriceTooltip]">?</span></span>            <span class="square-meter-price">$[properties.additionalPriceUsd]</span>          </div>        [endif][endif]      </div>    </header>    <span class="js-favourite" data-id="$[properties.objectId]" title="Добавить в избранное"></span>    [if properties.vrTour]<span class="vr-tour-icon" title="VR-тур">vr</span>[endif]  </div>  <div class="content">    <p class="description"><a href="$[properties.descriptionHref]" target="_blank">$[properties.description]</a></p>    <div class="attributes"><div class="col"><p class="icon-location attr">$[properties.location]</p></div><div class="col"><span class="square attr">$[properties.totalArea]</span></div></div>  </div></div>', {
                build: function () {
                    o.superclass.build.call(this);
                    var t = e("#objects-map .object .js-favourite").attr("data-id");
                    0 <= e.inArray(t, F) && e("#objects-map .object .js-favourite").addClass("active").attr("title", "Убрать из избранного"), e("#objects-map .img-slider").each((function () {
                        e(this).hasClass("slick-slider") || e(this).slick({
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            lazyLoad: "ondemand",
                            dots: !1,
                            arrows: !0,
                            infinite: !0,
                            speed: 200
                        })
                    })), e("#objects-map .img-slider").slick("setPosition"), h()
                }, clear: function () {
                    e(".object").off("click"), o.superclass.clear.call(this)
                }
            }), n = new ymaps.ObjectManager({
                geoObjectBalloonLayout: s,
                geoObjectBalloonContentLayout: o,
                geoObjectBalloonContentLayoutWidth: 240,
                geoObjectBalloonContentLayoutHeight: 302,
                clusterize: !0,
                gridSize: 32,
                geoObjectBalloonAutoPanMargin: [60, 16, 5, 16],
                clusterDisableClickZoom: !0,
                clusterOpenBalloonOnClick: !0,
                clusterBalloonLayout: a,
                clusterBalloonContentLayout: "cluster#balloonCarousel",
                clusterBalloonItemContentLayout: o,
                clusterBalloonPanelMaxMapArea: 0,
                clusterBalloonContentLayoutWidth: 240,
                clusterBalloonContentLayoutHeight: 302,
                clusterBalloonAutoPanMargin: [60, 16, 5, 16],
                clusterBalloonPagerSize: 9
            });
        l.on("click", ".js-filter-objects", (function () {
            W(), e.getJSON(t.attr("data-url"), t.serialize(), (function (e) {
                n.removeAll().add(e), U(e)
            })), e(".filter").hasClass("opened-advanced") && e(".open-advanced-search").trigger("click"), r <= 1190 && e("#close-filter").trigger("click")
        }));
        var c,
            d = ymaps.templateLayoutFactory.createClass('<div class="pin-icon-text">$[properties.otherCurrency]</div>'),
            p = ymaps.templateLayoutFactory.createClass('<div class="pin-icon-text on-hover">$[properties.otherCurrency]</div>');
        n.objects.options.set({
            iconLayout: "default#imageWithContent",
            iconContentLayout: d,
            iconImageHref: frontParams.basePath + "/i/b.gif",
            iconImageSize: [120, 33],
            iconImageOffset: [-44, -40],
            hasHint: !0,
            hideIconOnBalloonOpen: !0,
            iconImageShape: {type: "Rectangle", coordinates: [[-50, -40], [45, 0]]}
        }), l.on("mouseenter", "#objects-list .object", (function () {
            e("#objects-layout").hasClass("tiled-map-view") && (c = e(this).parents(".item").attr("id"), n.objects.setObjectOptions(c, {iconContentLayout: p}))
        })), l.on("mouseleave", "#objects-list .object", (function () {
            e("#objects-layout").hasClass("tiled-map-view") && n.objects.setObjectOptions(c, {iconContentLayout: d})
        })), a = ymaps.templateLayoutFactory.createClass('<span class="cluster-icon-text">$[properties.geoObjects.length]</span>'), n.clusters.options.set({
            clusterIconContentLayout: a,
            clusterIcons: [{
                href: frontParams.basePath + "/i/cluster-map-icon.png",
                size: [91, 101],
                offset: [-40, -40],
                shape: {type: "Circle", size: [60, 60], coordinates: [6, 3], radius: 30}
            }]
        }), B.geoObjects.add(n), e.getJSON(t.attr("data-url"), t.serialize(), (function (e) {
            n.add(e)
        })), B.events.add("boundschange", (function (s) {
            e("#objects-layout").hasClass("list-view") || e("#filter-objects-by-map").prop("checked") && 1190 <= r && i((function () {
                W(), e.getJSON(t.attr("data-url"), t.serialize() + "&" + e.param({bounds: s.originalEvent.newBounds}), (function (e) {
                    U(e)
                }))
            }), 1e3)
        })), e("#filter-objects-by-map").on("change", (function () {
            e("#objects-layout").hasClass("list-view") || (e("#filter-objects-by-map").prop("checked") && 1190 <= r ? (W(), e.getJSON(t.attr("data-url"), t.serialize() + "&" + e.param({bounds: B.getBounds()}), (function (e) {
                U(e)
            }))) : !e("#filter-objects-by-map").prop("checked") && 1190 <= r && (W(), e.getJSON(t.attr("data-url"), t.serialize(), (function (e) {
                U(e)
            }))))
        }));
        var m = ymaps.templateLayoutFactory.createClass("<div id='map-zoom-controls'><div id='zoom-in' class='zoom-btn' title='Увеличить'></div><div id='zoom-out' class='zoom-btn' title='Уменьшить'></div></div>", {
            build: function () {
                m.superclass.build.call(this), this.zoomInCallback = ymaps.util.bind(this.zoomIn, this), this.zoomOutCallback = ymaps.util.bind(this.zoomOut, this), e("#zoom-in").bind("click", this.zoomInCallback), e("#zoom-out").bind("click", this.zoomOutCallback)
            }, clear: function () {
                e("#zoom-in").unbind("click", this.zoomInCallback), e("#zoom-out").unbind("click", this.zoomOutCallback), m.superclass.clear.call(this)
            }, zoomIn: function () {
                var e = this.getData().control.getMap();
                e.setZoom(e.getZoom() + 1, {checkZoomRange: !0})
            }, zoomOut: function () {
                var e = this.getData().control.getMap();
                e.setZoom(e.getZoom() - 1, {checkZoomRange: !0})
            }
        });
        a = new ymaps.control.ZoomControl({options: {layout: m}});
        B.controls.add(a, {float: "none", position: {top: 100, right: 3}})
    })), e(".object .img-slider").length && e(".object .img-slider").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        lazyLoad: "ondemand",
        dots: !1,
        arrows: !0,
        infinite: !0,
        speed: 200
    }), e('.js-change-layout[data-layout="tiled-map-view"], .js-change-layout[data-layout="map-view"]').click((function () {
        (e("#objects-layout").hasClass("tiled-view-view") || e("#objects-layout").hasClass("tiled-map-view")) && (1190 < r && e("#objects-list-box").css("maxWidth", "59.09090909090909%"), setTimeout((function () {
            e("#objects-list-box").attr("style", "")
        }), 520))
    })), e('.js-change-layout[data-layout="tiled-map-view"], .js-change-layout[data-layout="tiled-view"]').click((function () {
        (e("#objects-layout").hasClass("tiled-view") || e("#objects-layout").hasClass("tiled-map-view")) && (1190 < r && e("#objects-map-box").css("maxWidth", "40.90909090909091%"), setTimeout((function () {
            e("#objects-map-box").attr("style", "")
        }), 520), setTimeout((function () {
            e(".object .img-slider").slick("setPosition")
        }), 1e3), setTimeout((function () {
            e(".object .img-slider").slick("setPosition")
        }), 2e3), setTimeout((function () {
            e(".object .img-slider").slick("setPosition")
        }), 4e3))
    })), e("#objects-layout").length && G();
    var H = !0;

    function $() {
        requestAnimationFrame((function t() {
            H && (e("#footer").hasClass("visible") ? e("#objects-controls").addClass("unfixed") : e("#objects-controls").removeClass("unfixed"), requestAnimationFrame(t))
        }))
    }

    function q() {
        var t = e("#object-select").find(":selected").attr("data-visible-attr").split(" ");
        e("#filter-form").find(".col[data-attr]").hide(), e("#filter-form").find(".col[data-attr]").each((function () {
            var s = e(this).attr("data-attr");
            -1 !== t.indexOf(s) && e(this).show()
        }))
    }

    function W() {
        e("#objects-list-box").find(".lazy-load-box").remove(), e(".no-objects-message").hide(), e("#objects-layout").hasClass("list-view") ? (E(), e("#objects-layout-box").addClass("loading"), e(".lazy-load-box .loader").css("visibility", "hidden")) : e("#objects-list-box").addClass("loading")
    }

    function U(t) {
        var s = t.features, a = e("#objects-list");
        t.seoUrl && "replaceState" in window.history && (o = t.pageTitle || e("#filter-form").attr("data-title"), window.history.replaceState("", o, t.seoUrl), document.title = "" + o);
        var o = t.h1Title || e("#objects-list-box").attr("data-filtered-title");
        e("h1").length ? e("h1").text(o) : e("<h1>" + o + "</h1>").insertBefore("#objects-list"), t.seoIntro ? (e(".seo-text").length || (e('<div class="seo-text"></div>').insertAfter("#objects-box"), e(".seo-text").append('<div class="container-small"></div>')), e(".seo-text .container-small").html(t.seoIntro), t.seoText && e(".seo-text .container-small").append('<div class="dropdown">' + t.seoIntro + '</div>\n<span class="js-show-seo-text">Узнать больше</span>')) : e(".seo-text").remove(), a.fadeOut(150), setTimeout((function () {
            a.html("")
        }), 150), 0 === s.length && setTimeout((function () {
            e(".no-objects-message").show()
        }), 700), e.each(s, (function (t, s) {
            var o, i, n, l, r = "", c = "", d = "", p = "", m = "", f = "", u = "", g = "", v = "", C = "", b = "",
                y = "", L = "", w = "", _ = "", R = "", T = "", k = "";
            s.properties.description && (r = '<p class="description"><a href="' + s.properties.descriptionHref + '" target="_blank">' + s.properties.description + "</a></p>"), s.properties.location && (c = s.properties.district ? '<div class="col"><p class="icon-location attr has-district"><small class="district">' + s.properties.district + "</small>" + s.properties.location + "</p></div>" : '<div class="col"><p class="icon-location attr">' + s.properties.location + "</p></div>"), s.properties.totalArea && (d = '<div class="col"><span class="square attr" title="' + (s.properties.totalAreaTitle || "Общая площадь") + '">' + s.properties.totalArea + "</span></div>"), s.properties.otherCurrency && (o = s.properties.otherCurrencyTooltip ? '<span class="tooltip" title="' + s.properties.otherCurrencyTooltip + '">?</span>' : "", p = '<span class="others-currency">' + s.properties.otherCurrency + o + "</span>"), s.properties.additionalPriceUsd && (o = s.properties.additionalPriceTooltip ? '<span class="tooltip" title="' + s.properties.additionalPriceTooltip + '">?</span>' : "", m = '<span class="square-meter-price">' + s.properties.additionalPriceUsd + o + "</span>"), s.properties.vat && (f = '<span class="vat">' + s.properties.vat + "</span>"), s.properties.showPrice && s.properties.price && (u = '<div class="price attr">' + f + '<span class="ruble">' + s.properties.price + "</span>" + p + "</div>"), s.properties.additionalPrice && (s.properties.commercial || e("#objects-layout").hasClass("list-view")) && (g = '<div class="price attr additional">' + f + '<span class="ruble">' + s.properties.additionalPrice + "</span>" + m + "</div>"), s.properties.numberOfRooms && (v = e("#objects-layout").hasClass("list-view") ? '<div class="col"><span class="number-of-rooms">' + s.properties.numberOfRooms + "</span></div>" : '<span class="number-of-rooms">' + s.properties.numberOfRooms + "</span>"), s.properties.constructionYear && (C = '<div class="col"><span class="construction-year attr" title="Год постройки">' + s.properties.constructionYear + "</span></div>"), s.properties.livingSpace && (b = '<div class="col"><span class="living-space attr" title="Жилая площадь">' + s.properties.livingSpace + "</span></div>"), s.properties.kitchen && (y = '<div class="col"><span class="kitchen attr" title="Площадь кухни">' + s.properties.kitchen + "</span></div>"), s.properties.landArea && (L = '<div class="col"><span class="land-area attr" title="Площадь участка">' + s.properties.landArea + "</span></div>"), s.properties.landAreaNoHouse && (w = '<div class="col"><span class="land-area-no-house attr" title="Площадь участка">' + s.properties.landAreaNoHouse + "</span></div>"), s.properties.floor && (_ = '<div class="col"><span class="floor attr" title="Этаж">' + s.properties.floor + "</span></div>"), s.properties.materialWalls && (R = '<div class="col"><span class="material-walls attr" title="Материал стен">' + s.properties.materialWalls + "</span></div>"), l = s.properties.favourite ? '<span class="js-favourite active" data-id="' + s.properties.objectId + '" title="Убрать из избранного"></span>' : '<span class="js-favourite" data-id="' + s.properties.objectId + '" title="Добавить в избранное"></span>', s.properties.vrTour && (T = '<span class="vr-tour-icon" title="VR-тур">vr</span>'), s.properties.imgSlider && (i = s.properties.descriptionHref, e.each(s.properties.imgSlider, (function (e, t) {
                k += '<div class="slide"><a href="' + i + '" target="_blank"><img data-lazy=" ' + t + '"></a></div>'
            }))), n = e("#objects-layout").hasClass("list-view") ? (e("#objects-list-box").css("minHeight", "400px"), e("#objects-box").removeClass("clear"), E(), '<div class="item" id="' + s.id + '">  <div class="object">    <div class="img-box"><div class="img-slider">' + k + "</div>" + l + T + '</div>    <div class="description-box">      <header class="header">' + c + v + "</header>" + r + '      <div class="attributes">' + d + C + _ + R + b + y + L + w + '</div>   </div>   <div class="price-box"><div class="sub-box">' + u + g + "</div></div>  </div></div>") : '<div class="item" id="' + s.id + '">  <div class="object">    <div class="img-box">      <div class="img-slider">' + k + '</div>      <header class="header">' + v + '<div class="price-box">' + u + g + "</div></header>" + l + T + "    </div>" + r + '    <div class="attributes">' + c + d + "</div>  </div></div>", setTimeout((function () {
                a.append(n), h()
            }), 300)
        })), setTimeout((function () {
            a.fadeIn(), V(), e("#objects-list-box").removeClass("loading").attr("style", ""), e("#objects-layout").hasClass("list-view") && (e("#objects-box").addClass("clear"), E(), e("#objects-layout-box").removeClass("loading"), e(".lazy-load-box .loader").css("visibility", "visible"))
        }), 700)
    }

    function J() {
        var t = e(".overlay .popup").width(), s = e(".overlay .popup").height();
        e(".overlay .popup").css({marginLeft: -t / 2, marginTop: -s / 2})
    }

    function Z() {
        var t = n.height(), s = e("#footer").height();
        e("#error-page-box").find(".align-m").css("height", t - s)
    }

    function Q(t) {
        var s, a, o, i = 0, n = 0, l = [];
        e(t).each((function () {
            if (s = e(this), e(s).height("auto"), a = s.position().top, n !== a) {
                for (o = 0; o < l.length; o++) l[o].height(i);
                l.length = 0, n = a, i = s.height(), l.push(s)
            } else l.push(s), i = i < s.height() ? s.height() : i;
            for (o = 0; o < l.length; o++) l[o].height(i)
        }))
    }

    function Y() {
        var t, s = 0;
        e(".inclined-list li").each((function () {
            e(this).attr("style", ""), t = e(this).height(), s < t && (s = e(this).height())
        })), e(".inclined-list li").height(s)
    }

    e("#footer").hasClass("footer-in-view") && r <= 1190 && e("html").hasClass("objects-page") ? (H = !0, $()) : H = !1, e(".js-change-layout").click((function (t) {
        t.preventDefault();
        var s, a = !0, o = e("#filter-form");
        e(this).hasClass("active") || (s = e(this).attr("data-layout"), t = e("#objects-layout .object").width(), e("#objects-layout").hasClass("disabled") || (e(this).hasClass("gallery-with-map") && (e("#objects-box").removeClass("clear"), e("#objects-list").html("").removeClass("lazy-load"), e("#objects-map-box").hide(), W(), e.getJSON(o.attr("data-url"), o.serialize(), (function (e) {
            U(e)
        })), setTimeout((function () {
            e("#objects-map-box").show()
        }), 300), setTimeout((function () {
            e("#objects-layout-box").removeClass("loading")
        }), 1e3), e(".objects-list-view").removeClass("active"), e(".change-layout-nav .temp").removeClass("temp").addClass("active"), e(this).parents(".change-layout-box").removeClass("hide-layout-nav"), s = e(".change-layout-nav .active").attr("data-layout")), e(this).hasClass("objects-list-view") && (e(".change-layout-nav .active").addClass("temp"), e(".js-change-layout").removeClass("active"), e(this).parents(".change-layout-box").addClass("hide-layout-nav"), setTimeout((function () {
            W(), e.getJSON(o.attr("data-url"), o.serialize(), (function (e) {
                U(e)
            }))
        }), 200), setTimeout((function () {
            e("#objects-box").addClass("clear"), E(), e("#objects-layout-box").removeClass("loading")
        }), 1300)), (e(this).parents(".change-layout-nav").length || e(this).parents(".change-layout-nav").length) && (e(".change-layout-nav a").removeClass("active"), requestAnimationFrame((function t() {
            a && (e(".object .img-slider").slick("setPosition"), requestAnimationFrame(t))
        })), setTimeout((function () {
            a = !1
        }), 800)), e(this).addClass("active"), "list-view" != s ? e("#objects-layout").attr("class", "").addClass(s) : setTimeout((function () {
            e("#objects-layout").attr("class", "").addClass(s)
        }), 200), e("#objects-layout").hasClass("tiled-view") && 356 <= t && (e("#objects-layout .object").css("width", t), setTimeout((function () {
            e("#objects-layout .object").attr("style", "")
        }), 500))), e("#objects-layout").addClass("disabled"), z(), setTimeout((function () {
            e("#objects-layout").removeClass("disabled")
        }), 550), r <= 1190 && e("html, body").animate({scrollTop: 0}, 0))
    })), e("#objects-filter").length && q(), e("#object-select").change((function () {
        q(), K(), z()
    })), e("#object-inner-slider").find(".slider").length && (function () {
        e("#object-inner-slider").find(".main-slider .slider").lightGallery({hash: !1}), e("#object-inner-slider").find(".main-slider .slider").slick({
            centerMode: !0,
            centerPadding: "0",
            adaptiveHeight: !1,
            speed: 350,
            variableWidth: !0,
            draggable: !1,
            accessibility: !1,
            nextArrow: "#object-inner-slider .main-slider .next-arrow",
            prevArrow: "#object-inner-slider .main-slider .prev-arrow",
            responsive: [{breakpoint: 720, settings: {variableWidth: !1}}]
        });
        var t = e("#object-inner-slider").find(".main-slider .slider .slick-active").attr("data-slick-index");
        e("#object-inner-slider .video-slide").each((function () {
            var t,
                s = e(this).attr("data-src").match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);
            s && 11 == s[2].length && (t = "http://img.youtube.com/vi/" + s[2] + "/maxresdefault.jpg"), e(this).parents(".main-slider").length ? e(this).find(".video-thumb").css("backgroundImage", "url(" + t + ")") : e(this).find("img").attr("src", t)
        })), e("#object-inner-slider").find(".thumb-slider .slider").slick({
            dots: !1,
            infinite: !0,
            speed: 300,
            slidesToShow: 13,
            slidesToScroll: 13,
            draggable: !1,
            responsive: [{breakpoint: 1200, settings: {slidesToShow: 11, slidesToScroll: 11}}, {
                breakpoint: 1052,
                settings: {slidesToShow: 10, slidesToScroll: 10}
            }, {breakpoint: 946, settings: {slidesToShow: 9, slidesToScroll: 9}}, {
                breakpoint: 820,
                settings: {slidesToShow: 8, slidesToScroll: 8}
            }, {breakpoint: 750, settings: {slidesToShow: 7, slidesToScroll: 7}}, {
                breakpoint: 620,
                settings: {slidesToShow: 6, slidesToScroll: 6}
            }, {breakpoint: 580, settings: {slidesToShow: 5, slidesToScroll: 5}}, {
                breakpoint: 520,
                settings: {slidesToShow: 4, slidesToScroll: 4}
            }, {breakpoint: 420, settings: {slidesToShow: 3, slidesToScroll: 3}}]
        }), e("#object-inner-slider").find(".thumb-slider .slider .slick-slide").each((function () {
            e(this).attr("data-slick-index") == t && e(this).addClass("choosen")
        })), e("#object-inner-slider").addClass("visible")
    }(), e("#object-inner-slider").find(".thumb-slider .slick-slide").click((function () {
        e("#object-inner-slider").find(".thumb-slider .slick-slide").removeClass("choosen"), e(this).addClass("choosen");
        var t = e(this).attr("data-slick-index");
        e("#object-inner-slider").find(".main-slider .slider").slick("slickGoTo", t)
    })), e("#object-inner-slider .open-gallery").click((function () {
        e("#object-inner-slider .main-slider .slick-current").trigger("click")
    }))), e(".close-popup, .overlay .bg").click((function () {
        e("html").removeClass("opened-popup"), e("html, body").removeClass("hide-scroll"), e(".popup").attr("class", "popup").find(".hidden").hide()
    })), l.on("click", ".open-popup", (function (t) {
        t.preventDefault();
        var s, a = e(this).attr("data-popup"), o = e(this).attr("data-popup-class");
        t = e(this).attr("data-employee");
        o && e(".popup").addClass(o), o = a, a = t, e("html").addClass("opened-popup"), e("html.touchevents, .touchevents body").addClass("hide-scroll"), e("." + o).show(), J(), n.hasClass("no-touchevents") && (s = e(window).scrollTop(), e(window).scroll((function () {
            e("html").hasClass("opened-popup") && e("html, body").animate({scrollTop: s}, 0)
        }))), e("." + o).find("form input.employee-input").length && (t = l.attr("data-employee"), a ? e("." + o).find("form input.employee-input").val(a) : t ? e("." + o).find("form input.employee-input").val(t) : e("." + o).find("form input.employee-input").val(""))
    })), e("#error-page-box").length && Z(), Y(), e(".three-d-box").click((function () {
        var t = e(this), s = t.attr("data-tour-path");
        e('<iframe class="three-d-iframe" src="' + s + '" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>').appendTo(t)
    }));
    var X = !1;

    function ee() {
        var t = e("#footer").height();
        e("#footer").css("marginTop", -t), e("#indent").css("paddingBottom", t)
    }

    e(".response-filter a").on("click", (function (t) {
        var s;
        t.preventDefault(), X || e(this).parent("div").hasClass("active") || (e(".response-filter div").removeClass("active"), e(this).parent("div").addClass("active"), s = e(this).attr("href"), t = e(".response-list").height(), e(".response-list").html("").addClass("filtering").css("height", t), e.ajax({
            url: s,
            dataType: "html",
            beforeSend: function () {
                X = !0
            },
            success: function (t) {
                var a = e("<div/>");
                a.html(t), "replaceState" in window.history && window.history.replaceState("", document.title, s), a.find(".reviews-menu-item .dropdown").length && e(".reviews-menu-item .dropdown").html(a.find(".reviews-menu-item .dropdown").html()), t = a.find(".response-list").html(), e(".response-list").removeClass("filtering").append(t).attr("style", ""), setTimeout((function () {
                    e(".response-list .item, .response-list .inclined-separator").removeClass("hidden"), e("[data-bg-text]").length && w()
                }), 200), e(".lazy-load-box").remove(), a.find(".lazy-load-box").length && a.find(".lazy-load-box").clone().insertAfter(".response-list"), X = !1
            },
            error: function () {
                X = !1, alert("Page not found!")
            }
        }))
    })), e(document).keyup((function (t) {
        27 === t.keyCode && e(".close-popup, #close-filter, .js-open-search.active, #js-open-nav.active, .js-open-call-dropdown.active, .tour-opened #three-d-tour-box .close").trigger("click"), l.hasClass("lg-on") || (37 === t.keyCode && e(".main-slider .prev-arrow").trigger("click"), 39 === t.keyCode && e(".main-slider .next-arrow").trigger("click"))
    })), e(".single-page-nav ul").length && e(".single-page-nav ul").singlePageNav({offset: 0, updateHash: !1});
    var te = 0;

    function se() {
        var t = e(window).scrollTop();
        te < t && n.hasClass("sticky-single-page-nav") && n.removeClass("sticky-single-page-nav"), t < te && (n.hasClass("sticky-single-page-nav") || n.addClass("sticky-single-page-nav")), (te = t) <= e(".single-page-nav").offset().top - 77 && n.hasClass("sticky-single-page-nav") && n.removeClass("sticky-single-page-nav")
    }

    function ae() {
        n.removeClass("opened-nav hide-scroll"), e("#all").removeClass("nav-overlay").attr("style", ""), e("#nav").removeClass("visible").attr("style", ""), e("#nav .has-child.opened").removeClass("opened").find(".dropdown").attr("style", ""), e("#js-open-nav").removeClass("active").find("span").attr("style", "")
    }

    function oe() {
        r <= 1190 && e("#objects-filter .page-title-box").length ? e("#objects-filter .page-title-box").insertBefore("#objects-layout-box") : 1190 < r && !e("#objects-filter .page-title-box").length && e("#objects-box .page-title-box").insertBefore("#objects-filter .filter")
    }

    e(".single-page-nav").length && !e(".single-page-nav").hasClass("not-sticky") && 1191 < r && se(), e(".page-banner .agent").length && e(".page-banner .agent").each((function () {
        e(this).find(".btn.open-popup").length && e(this).addClass("has-btn")
    })), l.on("click", ".js-show-seo-text", (function () {
        var t = e(this), s = t.parents(".seo-text");
        s.hasClass("opened-dropdown") ? (s.removeClass("opened-dropdown").find(".dropdown").slideUp(150), t.text("Узнать больше")) : (s.addClass("opened-dropdown").find(".dropdown").slideDown(150), t.text("Свернуть"))
    })), 1280 < r && n.hasClass("opened-nav") && !e("#header").hasClass("mobile-nav") && ae(), e(".quick-links-slider").length && e(".quick-links-slider .swiper-container").each((function () {
        new Swiper(e(this)[0], {
            slidesPerView: "auto",
            loop: !1,
            spaceBetween: 0,
            freeMode: !0,
            watchOverflow: !0,
            navigation: {
                nextEl: e(this).parents(".quick-links-slider").find(".swiper-btn-next"),
                prevEl: e(this).parents(".quick-links-slider").find(".swiper-btn-prev")
            }
        })
    })), n.hasClass("objects-page") && e(".quick-links-slider").length && oe(), e(window).load((function () {
        Q(".equal-height, .indicators-list .indicator"), ee(), l.addClass("page-load")
    })), e(window).resize((function () {
        r = Math.max(e(window).width(), window.innerWidth), (e("#nav").is(":visible") && r <= 1280 || e("#nav").is(":visible") && e("#header").hasClass("mobile-nav")) && L(), e("#header").hasClass("mobile-nav") || y(), Q(".equal-height, .indicators-list .indicator"), e(".two-half-bg-box .inclined-list").length && Y(), e("#objects-box").length && (E(), G()), e("#footer").hasClass("footer-in-view") && r <= 1190 && e("html").hasClass("objects-page") ? (H = !0, $()) : H = !1, e("html").hasClass("opened-popup") && J(), n.hasClass("objects-page") && e(".quick-links-slider").length && oe(), i((function () {
            1280 < r && n.hasClass("opened-nav") && !e("#header").hasClass("mobile-nav") && ae(), e("#error-page-box").length && Z(), ee()
        }), 100)
    })), e(window).on("orientationchange", (function () {
        r = Math.max(e(window).width(), window.innerWidth), (e("#nav").is(":visible") && r <= 1280 || e("#nav").is(":visible") && e("#header").hasClass("mobile-nav")) && L(), e("#header").hasClass("mobile-nav") || y(), Q(".equal-height, .indicators-list .indicator"), e("#objects-box").length && (E(), G()), e("html").hasClass("opened-popup") && J(), n.hasClass("objects-page") && e(".quick-links-slider").length && oe(), i((function () {
            1280 < r && n.hasClass("opened-nav") && !e("#header").hasClass("mobile-nav") && ae(), e("#error-page-box").length && Z(), ee()
        }), 100)
    })), e(window).scroll((function () {
        e("#header").hasClass("no-sticky") || e("#nav").hasClass("visible") || v(), e(".counter").length && !e(".counter").hasClass("finished") && n.hasClass("no-touchevents") && _(), 600 < e(this).scrollTop() && e("#to-top").length ? e("#to-top").addClass("visible") : e("#to-top").removeClass("visible"), e(".lazy-load").length && O && !e("html").hasClass("objects-page") && I(), e(".single-page-nav").length && !e(".single-page-nav").hasClass("not-sticky") && 1191 < r && se()
    })), e("#objects-list-box").on("scroll", (function () {
        e(window).trigger("scroll")
    })), e(window).trigger("scroll"), d = new Bloodhound({
        datumTokenizer: Bloodhound.tokenizers.whitespace,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: frontParams.suggestions
    }), e(".tt-object").typeahead({hint: !0, highlight: !0, minLength: 1}, {
        name: "objectTypes",
        source: d
    }), e(".tt-object").on("typeahead:selected", (function (e, t, s) {
        send_ymga("SENT_TYPE_B", "CLICK-SENT-TYPE-B", "FORM"), setTimeout((function () {
            e.target.closest("form").submit()
        }), 150)
    })), e("form.objects-form").on("submit", (function (t) {
        var s = e(this).find(".tt-input").val();
        "" === e.trim(s) ? (t.preventDefault(), e(this).find(".tt-input").closest(".field").addClass("error-field")) : send_ymga("SENT_TYPE_B", "CLICK-SENT-TYPE-B", "FORM")
    })), e("form.objects-form .tt-object").on("focus", (function () {
        e(this).closest(".field").removeClass("error-field")
    })), (d = l.attr("data-employee-id")) && e("form").append('<input type="hidden" name="employee_id" value="' + d + '">');
    var ie = ".result-message";

    function ne() {
        var t = e(this), s = t.find(ie), a = t.find('button[type="submit"], input[type="submit"]');
        return t.ajaxSubmit({
            dataType: "json", beforeSubmit: function () {
                s.html(""), a.attr("disabled", !0).addClass("disabled")
            }, error: function () {
                a.attr("disabled", !1).removeClass("disabled"), le(t), re(s, !1, "Server error.")
            }, success: function (o) {
                var i;
                a.attr("disabled", !1).removeClass("disabled"), le(t), o.errors ? e.each(o.errors, (function (e, s) {
                    t.yiiActiveForm("updateAttribute", e, s)
                })) : o.success ? t.find('input[name*="phone"]').length ? (function (e) {
                    n.hasClass("seller-page-tpl") && ("get-max-price-form" === e && send_ymga("MAX_PRICE_NCNF", "CLICK-MAX-PRICE-NCNF", "FORM"), "get-estimation-form" === e && send_ymga("FREE_VAL_NCNF", "CLICK-FREE-VAL-NCNF", "FORM"), "order-service-form" === e && send_ymga("SUB_APP_NCNF", "CLICK-SUB-APP-NCNF", "FORM"), "order-service-popup-form" === e && send_ymga("TEST_DRIVE_NCNF", "CLICK-TEST-DRIVE-NCNF", "FORM"), send_ymga(!1, "CLICK-FSLR", "FORM")), n.hasClass("index-page") && "order-service-form" === e && send_ymga("SUB_APP_NCNF", "CLICK-SUB-APP-NCNF", "FORM"), "order-call-popup-form" === e && send_ymga("ORDER_CALL_NCNF", "CLICK-ORDER-CALL-NCNF", "FORM"), "exchange-form" === e && send_ymga("GHNG_H", "CLICK-GHNG-H", "FORM"), "exchange-apartment-form" === e && send_ymga("GHNG_PRF", "CLICK-GHNG-PRF", "FORM"), ce && ("register-event-form" === e && send_ymga("LRN_MR_VR_NCNF", "CLICK-LRN-MR-VR-NCNF", "FORM"), "generated1-landing-form" === e && send_ymga("APP_TR_NCNF", "CLICK-APP-TR-NCNF", "FORM"), "generated2-landing-form" === e && send_ymga("FREE_TR_NCNF", "CLICK-FREE-TR-NCNF", "FORM"), send_ymga(!1, "CLICK-FVR", "FORM")), n.hasClass("landing-page-srochniy-vykup") && ("register-event-form" === e && send_ymga("SUB_APP_SRV", "CLICK-SUB-APP-SRV", "FORM"), "generated1-landing-form" === e && send_ymga("URGNT_REP_SRV", "CLICK-URGNT-REP-SRV", "FORM"), "generated2-landing-form" === e && send_ymga("QSTNS_LFT_SRV", "CLICK-QSTNS-LFT-SRV", "FORM")), n.hasClass("landing-page-vyezd-rieltora") && ("register-event-form" === e && send_ymga("INVT_SPCLST_VRL", "CLICK-INVT-SPCLST-VRL", "FORM"), "generated1-landing-form" !== e && "generated2-landing-form" !== e || send_ymga("NADOM_VRL", "CLICK-NADOM-VRL", "FORM")), n.hasClass("landing-page-besplatnaya-ocenka-nedvizhimosti") && ("register-event-form" === e && send_ymga("FREE_VAL_BON", "CLICK-FREE-VAL-BON", "FORM"), "generated1-landing-form" === e && send_ymga("24H_VAL_BON", "CLICK-24H-VAL-BON", "FORM"), "generated2-landing-form" === e && send_ymga("ORD_VAL_BON", "CLICK-ORD-VAL-BON", "FORM"), "generated3-landing-form" === e && send_ymga("OBJ_VAL_BON", "CLICK-OBJ-VAL-BON", "FORM"), "generated4-landing-form" === e && send_ymga("SBM_VAL_BON", "CLICK-SBM-VAL-BON", "FORM")), n.hasClass("landing-page-oformlenie-sdelki") && ("register-event-form" === e && send_ymga("MKD_OFS", "CLICK-MKD-OFS", "FORM"), "generated1-landing-form" === e && send_ymga("LRNMR_OFS", "CLICK-LRNMR-OFS", "FORM"), "generated2-landing-form" === e && send_ymga("SBM_OFS", "CLICK-SBM-OFS", "FORM")), n.hasClass("landing-page-proverka-nedvizhimosti") && ("register-event-form" === e && send_ymga("ORDCH_PRND", "CLICK-ORDCH-PRND", "FORM"), "generated1-landing-form" === e && send_ymga("LRNMR_PRND", "CLICK-LRNMR-PRND", "FORM"), "generated2-landing-form" === e && send_ymga("SBM_PRND", "CLICK-SBM-PRND", "FORM"), "generated3-landing-form" === e && send_ymga("ORD_SRV_PRND", "CLICK-ORD-SRV-PRND", "FORM")), n.hasClass("landing-page-distancionnaya-prodazha") && ("register-event-form" === e && send_ymga("SBM1_DSPR", "CLICK-SBM1-DSPR", "FORM"), "generated1-landing-form" === e && send_ymga("SBM_DSPR", "CLICK-SBM-DSPR", "FORM"), "generated2-landing-form" === e && send_ymga("24H_VAL_DSPR", "CLICK-24H-VAL-DSPR", "FORM"), "generated3-landing-form" === e && send_ymga("QSTNS_DSPR", "CLICK-QSTNS-DSPR", "FORM")), n.hasClass("landing-page-test-drive") && ("register-event-form" === e && send_ymga("BCL_TDR", "CLICK-BCL-TDR", "FORM"), "generated1-landing-form" === e && send_ymga("SBM_TDR", "CLICK-SBM-TDR", "FORM"), "order-service-popup-form" === e && send_ymga("TDR14_TDR", "CLICK-TDR14-TDR", "FORM")), n.hasClass("landing-page-talisman") && ("register-event-form" === e && send_ymga("LRN_MR_TLSMN", "CLICK-LRN-MR-TLSMN", "FORM"), "generated1-landing-form" === e && send_ymga("SBM_TLSMN", "CLICK-SBM-TLSMN", "FORM"), "generated2-landing-form" === e && send_ymga("SBM_APPNT_TLSMN", "CLICK-SBM-APPNT-TLSMN", "FORM")), n.hasClass("landing-page-seller-2") && ("register-event-form" === e && send_ymga("MAX_PRICE_2", "CLICK-MAX-PRICE-2", "FORM"), "generated1-landing-form" === e && send_ymga("FREE_VAL_2", "CLICK-FREE-VAL-2", "FORM"), "order-service-form" === e && send_ymga("SUB_APP_2", "CLICK-SUB-APP-2", "FORM"), "order-service-popup-form" === e && send_ymga("TEST_DRIVE_2", "CLICK-TEST-DRIVE-2", "FORM")), n.hasClass("landing-page-arendatoru") && ("register-event-form" === e && send_ymga("SUB_APP_ARNDTR", "CLICK-SUB-APP-ARNDTR", "FORM"), "generated1-landing-form" === e && send_ymga("LRN_MR_ARNDTR", "CLICK-LRN-MR-ARNDTR", "FORM"), "generated2-landing-form" === e && send_ymga("SBM_ARNDTR", "CLICK-SBM-ARNDTR", "FORM")), n.hasClass("landing-page-arendodatelu") && ("register-event-form" === e && send_ymga("SUB_APP_ARNDTL", "CLICK-SUB-APP-ARNDTL", "FORM"), "generated1-landing-form" === e && send_ymga("LRN_MR_ARNDTL", "CLICK-LRN-MR-ARNDTL", "FORM"), "generated2-landing-form" === e && send_ymga("SBM_ARNDTL", "CLICK-SBM-ARNDTL", "FORM")), n.hasClass("objects-page-list") && "not-found-order-call-form" === e && send_ymga("ORDER_CALL_OBJ", "CLICK-ORDER-CALL-OBJ", "FORM")
                }(t.attr("id")), e(".check-entered-number form").attr("data-parent-form", t.attr("id")), e(".check-entered-number form").attr("data-parent-form-msg", o.message), e('.check-entered-number input[name="id"]').val(o.modelId), e(".check-entered-number .entered-number").text(t.find('input[name*="phone"]').eq(0).val()), t.find(".chk-phn-btn").remove(), t.append('<button type="button" style="display:none" class="open-popup chk-phn-btn" data-popup="check-entered-number"></button>'), t.find(".chk-phn-btn").trigger("click"), t.closest(".popup").length && (t.closest(".pretty-form").hide(), e(window).trigger("resize"))) : (void 0 !== t.attr("data-update-reset") ? (t.find("input").attr("value", (function () {
                    return this.value
                })), t.find(":selected").attr("selected", "selected"), t.find(":not(:selected)").removeAttr("selected")) : (t[0].reset(), t.find(".select2").length && t.find("select").val("").trigger("change")), o.message && re(s, !0, o.message), !o.callback || "function" == typeof (i = window[o.callback]) && i(), t.hasClass("two-step-form") && t.removeClass("step2").addClass("step1"), "subscribe-objects-form" === t.attr("id") && (e("form#subscribe-objects-form").hide(), e("form#check-email-form")[0].reset(), e("form#check-email-form").show(), setTimeout((function () {
                    var t = e("form#subscribe-objects-form").find(".message-box").html();
                    e("form#check-email-form").find(".message-box").remove(), e("form#check-email-form").append('<div class="message-box">' + t + "</div>")
                }), 200), setTimeout((function () {
                    e("form#check-email-form").find(".message-box").fadeOut(200)
                }), 5e3)), de(t.attr("id"))) : o.message ? re(s, !1, o.message) : re(s, !1, "Unknown error")
            }
        }), !1
    }

    function le(t) {
        t.find(".fileinput-clear").length ? t.find(".fileinput-clear").trigger("click") : t.find('input[type="file"]').each((function () {
            e(this).replaceWith(e(this).val("").clone(!0))
        }))
    }

    function re(e, t, s) {
        var a = "msg-" + (new Date).getTime();
        e.append('<div class="message-box {key}"><p class="{class}">{message}</p></div>'.replace("{class}", t ? "ok-message" : "error-message").replace("{key}", a).replace("{message}", s)), setTimeout((function () {
            e.find("." + a).fadeOut(200)
        }), 5e3)
    }

    l.on("beforeSubmit", "form.ajax-form", ne), l.on("submit", "form.ajax-custom-form", ne), e(".check-entered-number .change-number").click((function (t) {
        t.preventDefault();
        var s = e(this).closest("form"), a = (t = s.attr("data-parent-form"), e("#" + t));
        e.post(s.attr("data-delete-result"), s.serialize(), (function () {
            a.closest(".popup").length ? (s.closest(".pretty-form").hide(), a.closest(".pretty-form").show(), e(window).trigger("resize")) : e(".close-popup").trigger("click")
        }), "json")
    })), e(".check-entered-number .btn-confirm-phone").click((function (t) {
        t.preventDefault();
        var s = e(this).closest("form"), a = s.attr("data-parent-form"), o = s.attr("data-parent-form-msg"),
            i = e("#" + a);
        s.find(".btn").prop("disabled", !0), e.post(s.attr("data-confirm-phone"), s.serialize(), (function () {
            s.find(".btn").prop("disabled", !1), i[0].reset(), i.find(".select2").length && i.find("select").val("").trigger("change"), i.hasClass("two-step-form") && i.removeClass("step2").addClass("step1"), "offer-price-form" === i.attr("id") ? (e("form#offer-price-form").hide(), e("form#check-price-form")[0].reset(), e("form#check-price-form").show(), setTimeout((function () {
                o && e("form#check-price-form").append('<div class="message-box">' + o + "</div>")
            }), 200), setTimeout((function () {
                e("form#check-price-form").find(".message-box").fadeOut(200)
            }), 5e3)) : o && re(i.find(ie), !0, o), de(a), i.closest(".popup").length ? (s.closest(".pretty-form").hide(), i.closest(".pretty-form").show(), e(window).trigger("resize")) : e(".close-popup").trigger("click")
        }), "json")
    }));
    var ce = /^\/vr(-[0-9]+)?\//.test(window.location.pathname);

    function de(e) {
        "sell-form" === e && send_ymga("SELL_H", "CLICK-SELL-H", "FORM"), "order-service-form" === e && (n.hasClass("buyer-page-tpl") ? send_ymga("SUB_APP_B", "CLICK-SUB-APP-B", "FORM") : send_ymga("SUB_APP", "CLICK-SUB-APP", "FORM")), "start-search-form" === e && send_ymga("START_SRC", "CLICK-START-SRC", "FORM"), "learn-about-service-form" === e && send_ymga("LN_SRV", "CLICK-LN-SRV", "FORM"), "subscribe-objects-form" === e && send_ymga("SBSCR_OBJ", "CLICK-SBSCR-OBJ", "FORM"), "subscribe-form" === e && send_ymga("SBSCR_ARTCL", "CLICK-SBSCR-ARTCL", "FORM"), "get-estimation-form" === e && (n.hasClass("articles-page-inner") ? send_ymga("HV_QSTN", "CLICK-HV-QSTN", "FORM") : send_ymga("FREE_VAL", "CLICK-FREE-VAL", "FORM")), /^get-consultation-form-/.test(e) && send_ymga("GET_CNSLT", "CLICK-GET-CNSLT", "FORM"), "review-popup-form" === e && send_ymga("GV_FDBCK", "CLICK-GV-FDBCK", "FORM"), "order-call-popup-form" === e && (n.hasClass("reviews-page-tpl") ? send_ymga("ORDER_CALL_AGNT", "CLICK-ORDER-CALL-AGNT", "FORM") : send_ymga("ORDER_CALL", "CLICK-ORDER-CALL", "FORM")), "question-form" === e && send_ymga("ASK_QSTN", "CLICK-ASK-QSTN", "FORM"), "vacancy-form" === e && send_ymga("VCNC_APP", "CLICK-VCNC-APP", "FORM"), "contact-form" === e && send_ymga("WRT_US", "CLICK-WRT-US", "FORM"), "get-max-price-form" === e && send_ymga("MAX_PRICE", "CLICK-MAX-PRICE", "FORM"), "order-service-popup-form" === e && send_ymga("TEST_DRIVE", "CLICK-TEST-DRIVE", "FORM"), "offer-price-form" === e && send_ymga("MY_PRC", "CLICK-MY-PRC", "FORM"), ce && ("register-event-form" === e && send_ymga("LRN_MR_VR", "CLICK-LRN-MR-VR", "FORM"), "generated1-landing-form" === e && send_ymga("APP_TR", "CLICK-APP-TR", "FORM"), "generated2-landing-form" === e && send_ymga("FREE_TR", "CLICK-FREE-TR", "FORM"))
    }

    e('footer .icon-phone a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_F", "CLICK-CALL-F", "TELL")
    })), (n.hasClass("objects-page-inner") || n.hasClass("sub-objects-page-inner")) && (e('.agent .inclined-thumb.is-agency a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_AGNT", "CLICK-CALL-AGNT", "TELL")
    })), e('.agent .inclined-thumb:not(.is-agency) a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_AGNC", "CLICK-CALL-AGNC", "TELL")
    }))), n.hasClass("employees-page-inner") && e('.page-banner .icon-phone a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_RLTR", "CLICK-CALL-RLTR", "TELL")
    })), n.hasClass("contacts-page") && e('.phones.icon-phone a[href^="tel"]').on("click", (function () {
        e(this).attr("href").match(/tel:\+37517/) ? send_ymga("CALL_GOR_CNT", "CLICK-CALL-GOR-CNT", "TELL") : e(this).parent().find(".icon-viber").length ? send_ymga("CALL_VEL-VIB_CNT", "CLICK-CALL-VEL-VIB-CNT", "TELL") : e(this).parent().find(".icon-velcom").length || e(this).parent().find(".icon-a1").length ? send_ymga("CALL_VEL_CNT", "CLICK-CALL-VEL-CNT", "TELL") : e(this).parent().find(".icon-mts").length ? send_ymga("CALL_MTS_CNT", "CLICK-CALL-MTS-CNT", "TELL") : e(this).parent().find(".icon-life").length && send_ymga("CALL_LIFE_CNT", "CLICK-CALL-LIFE-CNT", "TELL")
    })), e(".sell-effectively .btn").on("click", (function () {
        send_ymga("LRN_MR", "CLICK-LRN-MR", "ELEMENT")
    })), n.hasClass("seller-page-tpl") && e('a[href^="tel"], a[href^="viber"]').on("click", (function () {
        send_ymga(!1, "CLICK-CALL-TSLR", "TELL")
    })), ce && (e("#block-10").find('a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_PRMTN_VR", "CLICK-CALL-PRMTN-VR", "TELL")
    })), e('.agents-footer a[href^="tel"]').on("click", (function () {
        e(this).closest(".inclined-thumb").hasClass("is-agency") ? send_ymga("CALL_AGNC_VR", "CLICK-CALL-AGNC-VR", "TELL") : send_ymga("CALL_AGNT_VR", "CLICK-CALL-AGNT-VR", "TELL")
    })), e('a[href^="tel"]').on("click", (function () {
        send_ymga(!1, "CLICK-CALL-TVR", "TELL")
    }))), n.hasClass("landing-page-srochniy-vykup") && (e("#block-53").find('a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_SRV", "CLICK-CALL-SRV", "TELL")
    })), e("#block-60").find('a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_SRV", "CLICK-CALL-SRV", "TELL")
    })), e('.agents-footer a[href^="tel"]').on("click", (function () {
        e(this).closest(".inclined-thumb").hasClass("is-agency") ? send_ymga("CALL_AGNC_SRV", "CLICK-CALL-AGNC-SRV", "TELL") : send_ymga("CALL_AGNT_SRV", "CLICK-CALL-AGNT-SRV", "TELL")
    }))), n.hasClass("landing-page-vyezd-rieltora") && e('.agents-footer a[href^="tel"]').on("click", (function () {
        e(this).closest(".inclined-thumb").hasClass("is-agency") ? send_ymga("CALL_AGNC_VRL", "CLICK-CALL-AGNC-VRL", "TELL") : send_ymga("CALL_AGNT_VRL", "CLICK-CALL-AGNT-VRL", "TELL")
    })), n.hasClass("landing-page-besplatnaya-ocenka-nedvizhimosti") && e('.agents-footer a[href^="tel"]').on("click", (function () {
        e(this).closest(".inclined-thumb").hasClass("is-agency") ? send_ymga("CALL_AGNC_BON", "CLICK-CALL-AGNC-BON", "TELL") : send_ymga("CALL_AGNT_BON", "CLICK-CALL-AGNT-BON", "TELL")
    })), n.hasClass("landing-page-distancionnaya-prodazha") && e('.agents-footer a[href^="tel"]').on("click", (function () {
        e(this).closest(".inclined-thumb").hasClass("is-agency") ? send_ymga("CALL_AGNC_DSPR", "CLICK-CALL-AGNC-DSPR", "TELL") : send_ymga("CALL_AGNT_DSPR", "CLICK-CALL-AGNT-DSPR", "TELL")
    })), n.hasClass("landing-page-test-drive") && e('.agents-footer a[href^="tel"]').on("click", (function () {
        e(this).closest(".inclined-thumb").hasClass("is-agency") ? send_ymga("CALL_AGNC_TDR", "CLICK-CALL-AGNC-TDR", "TELL") : send_ymga("CALL_AGNT_TDR", "CLICK-CALL-AGNT-TDR", "TELL")
    })), e('.call-us-box > a[href^="tel"]').on("click", (function () {
        send_ymga("CALL_H", "CLICK-CALL-H", "TELL"), n.hasClass("objects-page") && send_ymga("CALL_H_OBJ", "CLICK-CALL-H-OBJ", "TELL")
    })), e('.call-us-box .dropdown ul a[href^="tel"]').on("click", (function () {
        var t;
        n.hasClass("objects-page") ? send_ymga("CALL_H_OBJ", "CLICK-CALL-H-OBJ", "TELL") : e(this).attr("href").match(/tel:\+37517/) ? send_ymga("CALL_GOR", "CLICK-CALL-GOR", "TELL") : (t = e(this).closest("li")).find(".icon-velcom").length || t.find(".icon-a1").length ? send_ymga("CALL_VEL", "CLICK-CALL-VEL", "TELL") : t.find(".icon-mts").length ? send_ymga("CALL_MTC", "CLICK-CALL-MTC", "TELL") : t.find(".icon-life").length ? send_ymga("CALL_LIFE", "CLICK-CALL-LIFE", "TELL") : send_ymga("CALL_H", "CLICK-CALL-H", "TELL")
    })), e('.call-us-box .dropdown ul a[href^="viber"]').on("click", (function () {
        n.hasClass("objects-page") ? send_ymga("CALL_H_OBJ", "CLICK-CALL-H-OBJ", "TELL") : send_ymga("CALL_VIB", "CLICK-CALL-VIB", "TELL")
    })), e('.call-us-box .messengers-links a[href^="viber"]').on("click", (function () {
        send_ymga("MSSNGR_VIB_H", "CLICK-MSSNGR-VIB-H", "MESSENGER")
    })), e('.call-us-box .messengers-links a[href*="t.me"], .call-us-box .messengers-links a[href*="telegram."]').on("click", (function () {
        send_ymga("MSSNGR_TG_H", "CLICK-MSSNGR-TG-H", "MESSENGER")
    })), e('.call-us-box .messengers-links a[href*="wa.me"]').on("click", (function () {
        send_ymga("MSSNGR_WA_H", "CLICK-MSSNGR-WA-H", "MESSENGER")
    })), e('.contacts .messengers-links a[href^="viber"]').on("click", (function () {
        send_ymga("MSSNGR_VIB", "CLICK-MSSNGR-VIB", "MESSENGER")
    })), e('.contacts .messengers-links a[href*="t.me"], .contacts .messengers-links a[href*="telegram."]').on("click", (function () {
        send_ymga("MSSNGR_TG", "CLICK-MSSNGR-TG", "MESSENGER")
    })), e('.contacts .messengers-links a[href*="wa.me"]').on("click", (function () {
        send_ymga("MSSNGR_WA", "CLICK-MSSNGR-WA", "MESSENGER")
    })), n.hasClass("landing-page-talisman") && e('.agents-footer a[href^="tel"]').on("click", (function () {
        e(this).closest(".inclined-thumb").hasClass("is-agency") ? send_ymga("CALL_AGNC_TLSMN", "CLICK-CALL-AGNC-TLSMN", "TELL") : send_ymga("CALL_AGNT_TLSMN", "CLICK-CALL-AGNT-TLSMN", "TELL")
    }))
}));
var _ya_counter = !1;

function load_ym() {
    var e, t = window;
    for (e in t) if (t.hasOwnProperty(e) && "yaCounter26812653" !== e && /yaCounter/.test(e)) {
        _ya_counter = e, "undefined" != typeof console && console.log('Found counter "%s"', e);
        break
    }
    "undefined" != typeof gtag ? console.log("Found gtag() on page") : "undefined" != typeof ga && console.log("Found ga() on page")
}

function send_ymga(e, t, s) {
    e && !1 !== _ya_counter && window[_ya_counter].reachGoal(e, {}, (function () {
        console.log("ym Goal: ", e)
    })), t && s && ("undefined" != typeof gtag ? gtag("event", "event", {
        event_category: s,
        event_action: t,
        event_callback: function () {
            console.log("gtag Action: ", t, s)
        }
    }) : "undefined" != typeof ga && ga("send", "event", s, t, {
        hitCallback: function () {
            console.log("ga Action: ", t, s)
        }
    }))
}

window.addEventListener ? window.addEventListener("load", load_ym) : window.attachEvent("onload", load_ym);